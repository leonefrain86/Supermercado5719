@model Supermercado5719_Biblioteca.AgregarArticulo;
@{
    ViewData["Title"] = "Articulo nuevo";
}
<h1 class="display-4 mt-5">Agregar Articulo A Venta</h1>
<form asp-controller="Venta" asp-action="AgregarArticulo" method="post">
    <div class="form-row">
        <div class="form-group col-6">
            <label for="numVenta">codigo de barra: </label>
            <input asp-for="codigoBarra" type="text" placeholder="codigoBarra" class="form-control " required />
        </div>
        <div class="form-group col-6">
            <label for="numCaja">cant. de unidades: </label>
            <input asp-for="unidades" type="number" placeholder="unidades" class="form-control" required />
        </div>
        <div class="form-group col-6">
            <label for="numTicket">Numero de Ticket: </label>
            <input asp-for="numTicket" type="number" placeholder="numTicket" class="form-control" value="@ViewBag.ticket.numTicket" readonly />
        </div>
        <div class="form-group col-6">
            <label for="numCaja">Numero de Caja: </label>
            <input asp-for="numCaja" type="number" placeholder="numCaja" class="form-control" value="@ViewBag.ticket.numCaja" readonly />
        </div>
    </div>
    @if(ViewBag.ticket.items.Count > 0)
    {
        <table class="table table-bordered table-hover table-sm">
            <thead>
                <tr>
                    <th>CodigoBarra</th>
                    <th>Unidades vendidas</th>
                    <th>Precio subtotal</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in ViewBag.ticket.items)
                {
                <tr>
                    <td>@item.articulo.codigoBarra</td>
                    <td>@item.unidades</td>
                    <td>@item.precioSubtotal</td>
                </tr>
                }
            </tbody>
        </table>
    }

    <div class="form-group col-6">
        <input type="submit" class="btn btn-outline-primary" value="Vender" />
        <a asp-controller="Venta" asp-action="RealizarVenta" role="button" class="btn btn-outline-secondary">Volver</a>
    </div>
</form>